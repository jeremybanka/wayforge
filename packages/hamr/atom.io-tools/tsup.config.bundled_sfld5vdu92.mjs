// tsup.config.ts
import { defineConfig as defineConfig2 } from "tsup"

// ../../anvl/src/object/entries.ts
var entriesToRecord = (entries) => Object.fromEntries(entries)

// ../tsup.config.ts
import { defineConfig } from "tsup"

// ../__scripts__/discover-submodules.node.ts
import fs from "node:fs"
import path2 from "node:path"

// ../__scripts__/constants.ts
import path from "node:path"
import url from "node:url"
var __injected_import_meta_url__ =
	"file:///Users/jem/dojo/wayforge/packages/hamr/__scripts__/constants.ts"
var FILEPATH = url.fileURLToPath(__injected_import_meta_url__)
var DIRNAME = path.dirname(FILEPATH)
var HAMR_ROOT = path.resolve(DIRNAME, `..`)
var EXCLUDE_LIST = [`node_modules`, `src`, `dist`, `coverage`]
var PACKAGE_JSON_PATH = path.join(HAMR_ROOT, `package.json`)
var TSCONFIG_JSON_PATH = path.join(HAMR_ROOT, `tsconfig.prod.json`)

// ../__scripts__/discover-submodules.node.ts
function discoverSubmodules() {
	const folders = fs
		.readdirSync(HAMR_ROOT, { withFileTypes: true })
		.filter((dirent) => dirent.isDirectory())
		.filter((dirent) => !EXCLUDE_LIST.includes(dirent.name))
		.flatMap((dirent) => {
			const contents = fs.readdirSync(path2.join(HAMR_ROOT, dirent.name))
			const isLeaf = contents.includes(`src`)
			return isLeaf
				? dirent.name
				: contents.map((content) => path2.join(dirent.name, content))
		})
		.filter(
			(folder) =>
				!EXCLUDE_LIST.includes(folder) &&
				!folder.startsWith(`__`) &&
				!folder.endsWith(`__`) &&
				!folder.startsWith(`.`),
		)
	return folders
}

// ../tsup.config.ts
var SUBMODULE_NAMES = discoverSubmodules()
var BUNDLE_EXCLUDE_LIST = [
	`hamr`,
	...SUBMODULE_NAMES.map((submodule) => `hamr/${submodule}`),
	`socket.io`,
	`socket.io-client`,
	`react`,
	`@types/react`,
	`@testing-library/react`,
	`@floating-ui/react`,
	`motion`,
	`happy-dom`,
	`fp-ts`,
]
var BASE_OPTIONS = {
	esbuildOptions: (options) => {
		options.chunkNames = `dist/[name]-[hash]`
		options.assetNames = `dist/[name]-[hash]`
	},
	external: BUNDLE_EXCLUDE_LIST,
	format: [`esm`, `cjs`],
	jsxFactory: `React.createElement`,
	loader: { ".scss": `css` },
	metafile: true,
	sourcemap: true,
	treeshake: true,
	tsconfig: `tsconfig.json`,
}
var DTS_OPTIONS = {
	...BASE_OPTIONS,
	dts: { only: true },
	format: [`esm`],
	entry: [`src/index.ts`],
	metafile: false,
	outDir: `dist`,
}
var JS_OPTIONS = {
	...BASE_OPTIONS,
	clean: false,
	dts: false,
	entry: {
		...entriesToRecord(
			SUBMODULE_NAMES.map((submodule) => [
				`${submodule}/dist/index`,
				`${submodule}/src/index.ts`,
			]),
		),
	},
	outDir: `.`,
}
var tsup_config_default = defineConfig(JS_OPTIONS)

// tsup.config.ts
var tsup_config_default2 = defineConfig2(DTS_OPTIONS)
export { tsup_config_default2 as default }
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsidHN1cC5jb25maWcudHMiLCAiLi4vLi4vYW52bC9zcmMvb2JqZWN0L2VudHJpZXMudHMiLCAiLi4vdHN1cC5jb25maWcudHMiLCAiLi4vX19zY3JpcHRzX18vZGlzY292ZXItc3VibW9kdWxlcy5ub2RlLnRzIiwgIi4uL19fc2NyaXB0c19fL2NvbnN0YW50cy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiY29uc3QgX19pbmplY3RlZF9maWxlbmFtZV9fID0gXCIvVXNlcnMvamVtL2Rvam8vd2F5Zm9yZ2UvcGFja2FnZXMvaGFtci9hdG9tLmlvLXRvb2xzL3RzdXAuY29uZmlnLnRzXCI7Y29uc3QgX19pbmplY3RlZF9kaXJuYW1lX18gPSBcIi9Vc2Vycy9qZW0vZG9qby93YXlmb3JnZS9wYWNrYWdlcy9oYW1yL2F0b20uaW8tdG9vbHNcIjtjb25zdCBfX2luamVjdGVkX2ltcG9ydF9tZXRhX3VybF9fID0gXCJmaWxlOi8vL1VzZXJzL2plbS9kb2pvL3dheWZvcmdlL3BhY2thZ2VzL2hhbXIvYXRvbS5pby10b29scy90c3VwLmNvbmZpZy50c1wiO2ltcG9ydCB7IGRlZmluZUNvbmZpZyB9IGZyb20gXCJ0c3VwXCJcblxuaW1wb3J0IHsgRFRTX09QVElPTlMgfSBmcm9tIFwifi9wYWNrYWdlcy9oYW1yL3RzdXAuY29uZmlnXCJcblxuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29uZmlnKERUU19PUFRJT05TKVxuIiwgImNvbnN0IF9faW5qZWN0ZWRfZmlsZW5hbWVfXyA9IFwiL1VzZXJzL2plbS9kb2pvL3dheWZvcmdlL3BhY2thZ2VzL2Fudmwvc3JjL29iamVjdC9lbnRyaWVzLnRzXCI7Y29uc3QgX19pbmplY3RlZF9kaXJuYW1lX18gPSBcIi9Vc2Vycy9qZW0vZG9qby93YXlmb3JnZS9wYWNrYWdlcy9hbnZsL3NyYy9vYmplY3RcIjtjb25zdCBfX2luamVjdGVkX2ltcG9ydF9tZXRhX3VybF9fID0gXCJmaWxlOi8vL1VzZXJzL2plbS9kb2pvL3dheWZvcmdlL3BhY2thZ2VzL2Fudmwvc3JjL29iamVjdC9lbnRyaWVzLnRzXCI7ZXhwb3J0IHR5cGUgRW50cmllczxLIGV4dGVuZHMgUHJvcGVydHlLZXksIFY+ID0gW2tleTogSywgdmFsdWU6IFZdW11cblxuZXhwb3J0IGNvbnN0IHJlY29yZFRvRW50cmllcyA9IDxLIGV4dGVuZHMgUHJvcGVydHlLZXksIFY+KFxuXHRvYmo6IFJlY29yZDxLLCBWPixcbik6IEVudHJpZXM8SywgVj4gPT4gT2JqZWN0LmVudHJpZXMob2JqKSBhcyBFbnRyaWVzPEssIFY+XG5cbmV4cG9ydCBjb25zdCBlbnRyaWVzVG9SZWNvcmQgPSA8SyBleHRlbmRzIFByb3BlcnR5S2V5LCBWPihcblx0ZW50cmllczogRW50cmllczxLLCBWPixcbik6IFJlY29yZDxLLCBWPiA9PiBPYmplY3QuZnJvbUVudHJpZXMoZW50cmllcykgYXMgUmVjb3JkPEssIFY+XG4iLCAiY29uc3QgX19pbmplY3RlZF9maWxlbmFtZV9fID0gXCIvVXNlcnMvamVtL2Rvam8vd2F5Zm9yZ2UvcGFja2FnZXMvaGFtci90c3VwLmNvbmZpZy50c1wiO2NvbnN0IF9faW5qZWN0ZWRfZGlybmFtZV9fID0gXCIvVXNlcnMvamVtL2Rvam8vd2F5Zm9yZ2UvcGFja2FnZXMvaGFtclwiO2NvbnN0IF9faW5qZWN0ZWRfaW1wb3J0X21ldGFfdXJsX18gPSBcImZpbGU6Ly8vVXNlcnMvamVtL2Rvam8vd2F5Zm9yZ2UvcGFja2FnZXMvaGFtci90c3VwLmNvbmZpZy50c1wiO2ltcG9ydCB7IGVudHJpZXNUb1JlY29yZCB9IGZyb20gXCJhbnZsL29iamVjdFwiXG5pbXBvcnQgdHlwZSB7IE9wdGlvbnMgfSBmcm9tIFwidHN1cFwiXG5pbXBvcnQgeyBkZWZpbmVDb25maWcgfSBmcm9tIFwidHN1cFwiXG5cbmltcG9ydCBkaXNjb3ZlclN1Ym1vZHVsZXMgZnJvbSBcIi4vX19zY3JpcHRzX18vZGlzY292ZXItc3VibW9kdWxlcy5ub2RlXCJcblxuY29uc3QgU1VCTU9EVUxFX05BTUVTID0gZGlzY292ZXJTdWJtb2R1bGVzKClcblxuZXhwb3J0IGNvbnN0IEJVTkRMRV9FWENMVURFX0xJU1QgPSBbXG5cdGBoYW1yYCxcblx0Li4uU1VCTU9EVUxFX05BTUVTLm1hcCgoc3VibW9kdWxlKSA9PiBgaGFtci8ke3N1Ym1vZHVsZX1gKSxcblx0YHNvY2tldC5pb2AsXG5cdGBzb2NrZXQuaW8tY2xpZW50YCxcblx0YHJlYWN0YCxcblx0YEB0eXBlcy9yZWFjdGAsXG5cdGBAdGVzdGluZy1saWJyYXJ5L3JlYWN0YCxcblx0YEBmbG9hdGluZy11aS9yZWFjdGAsXG5cdGBtb3Rpb25gLFxuXHRgaGFwcHktZG9tYCxcblx0YGZwLXRzYCxcbl1cblxuZXhwb3J0IGNvbnN0IEJBU0VfT1BUSU9OUzogT3B0aW9ucyA9IHtcblx0ZXNidWlsZE9wdGlvbnM6IChvcHRpb25zKSA9PiB7XG5cdFx0b3B0aW9ucy5jaHVua05hbWVzID0gYGRpc3QvW25hbWVdLVtoYXNoXWBcblx0XHRvcHRpb25zLmFzc2V0TmFtZXMgPSBgZGlzdC9bbmFtZV0tW2hhc2hdYFxuXHR9LFxuXHRleHRlcm5hbDogQlVORExFX0VYQ0xVREVfTElTVCxcblx0Zm9ybWF0OiBbYGVzbWAsIGBjanNgXSxcblx0anN4RmFjdG9yeTogYFJlYWN0LmNyZWF0ZUVsZW1lbnRgLFxuXHRsb2FkZXI6IHsgXCIuc2Nzc1wiOiBgY3NzYCB9LFxuXHRtZXRhZmlsZTogdHJ1ZSxcblx0c291cmNlbWFwOiB0cnVlLFxuXHR0cmVlc2hha2U6IHRydWUsXG5cdHRzY29uZmlnOiBgdHNjb25maWcuanNvbmAsXG59XG5cbmV4cG9ydCBjb25zdCBEVFNfT1BUSU9OUzogT3B0aW9ucyA9IHtcblx0Li4uQkFTRV9PUFRJT05TLFxuXHRkdHM6IHsgb25seTogdHJ1ZSB9LFxuXHRmb3JtYXQ6IFtgZXNtYF0sXG5cdGVudHJ5OiBbYHNyYy9pbmRleC50c2BdLFxuXHRtZXRhZmlsZTogZmFsc2UsXG5cdG91dERpcjogYGRpc3RgLFxufVxuXG5leHBvcnQgY29uc3QgSlNfT1BUSU9OUzogT3B0aW9ucyA9IHtcblx0Li4uQkFTRV9PUFRJT05TLFxuXHRjbGVhbjogZmFsc2UsXG5cdGR0czogZmFsc2UsXG5cdGVudHJ5OiB7XG5cdFx0Li4uZW50cmllc1RvUmVjb3JkKFxuXHRcdFx0U1VCTU9EVUxFX05BTUVTLm1hcCgoc3VibW9kdWxlKSA9PiBbXG5cdFx0XHRcdGAke3N1Ym1vZHVsZX0vZGlzdC9pbmRleGAsXG5cdFx0XHRcdGAke3N1Ym1vZHVsZX0vc3JjL2luZGV4LnRzYCxcblx0XHRcdF0pLFxuXHRcdCksXG5cdH0sXG5cdG91dERpcjogYC5gLFxufVxuXG5leHBvcnQgZGVmYXVsdCBkZWZpbmVDb25maWcoSlNfT1BUSU9OUylcbiIsICJjb25zdCBfX2luamVjdGVkX2ZpbGVuYW1lX18gPSBcIi9Vc2Vycy9qZW0vZG9qby93YXlmb3JnZS9wYWNrYWdlcy9oYW1yL19fc2NyaXB0c19fL2Rpc2NvdmVyLXN1Ym1vZHVsZXMubm9kZS50c1wiO2NvbnN0IF9faW5qZWN0ZWRfZGlybmFtZV9fID0gXCIvVXNlcnMvamVtL2Rvam8vd2F5Zm9yZ2UvcGFja2FnZXMvaGFtci9fX3NjcmlwdHNfX1wiO2NvbnN0IF9faW5qZWN0ZWRfaW1wb3J0X21ldGFfdXJsX18gPSBcImZpbGU6Ly8vVXNlcnMvamVtL2Rvam8vd2F5Zm9yZ2UvcGFja2FnZXMvaGFtci9fX3NjcmlwdHNfXy9kaXNjb3Zlci1zdWJtb2R1bGVzLm5vZGUudHNcIjtpbXBvcnQgZnMgZnJvbSBcIm5vZGU6ZnNcIlxuaW1wb3J0IHBhdGggZnJvbSBcIm5vZGU6cGF0aFwiXG5cbmltcG9ydCB7IEVYQ0xVREVfTElTVCwgSEFNUl9ST09UIH0gZnJvbSBcIi4vY29uc3RhbnRzXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGlzY292ZXJTdWJtb2R1bGVzKCk6IHN0cmluZ1tdIHtcblx0Y29uc3QgZm9sZGVycyA9IGZzXG5cdFx0LnJlYWRkaXJTeW5jKEhBTVJfUk9PVCwgeyB3aXRoRmlsZVR5cGVzOiB0cnVlIH0pXG5cdFx0LmZpbHRlcigoZGlyZW50KSA9PiBkaXJlbnQuaXNEaXJlY3RvcnkoKSlcblx0XHQuZmlsdGVyKChkaXJlbnQpID0+ICFFWENMVURFX0xJU1QuaW5jbHVkZXMoZGlyZW50Lm5hbWUpKVxuXHRcdC5mbGF0TWFwKChkaXJlbnQpID0+IHtcblx0XHRcdGNvbnN0IGNvbnRlbnRzID0gZnMucmVhZGRpclN5bmMocGF0aC5qb2luKEhBTVJfUk9PVCwgZGlyZW50Lm5hbWUpKVxuXHRcdFx0Y29uc3QgaXNMZWFmID0gY29udGVudHMuaW5jbHVkZXMoYHNyY2ApXG5cdFx0XHRyZXR1cm4gaXNMZWFmXG5cdFx0XHRcdD8gZGlyZW50Lm5hbWVcblx0XHRcdFx0OiBjb250ZW50cy5tYXAoKGNvbnRlbnQpID0+IHBhdGguam9pbihkaXJlbnQubmFtZSwgY29udGVudCkpXG5cdFx0fSlcblx0XHQuZmlsdGVyKFxuXHRcdFx0KGZvbGRlcikgPT5cblx0XHRcdFx0IUVYQ0xVREVfTElTVC5pbmNsdWRlcyhmb2xkZXIpICYmXG5cdFx0XHRcdCFmb2xkZXIuc3RhcnRzV2l0aChgX19gKSAmJlxuXHRcdFx0XHQhZm9sZGVyLmVuZHNXaXRoKGBfX2ApICYmXG5cdFx0XHRcdCFmb2xkZXIuc3RhcnRzV2l0aChgLmApLFxuXHRcdClcblxuXHRyZXR1cm4gZm9sZGVyc1xufVxuIiwgImNvbnN0IF9faW5qZWN0ZWRfZmlsZW5hbWVfXyA9IFwiL1VzZXJzL2plbS9kb2pvL3dheWZvcmdlL3BhY2thZ2VzL2hhbXIvX19zY3JpcHRzX18vY29uc3RhbnRzLnRzXCI7Y29uc3QgX19pbmplY3RlZF9kaXJuYW1lX18gPSBcIi9Vc2Vycy9qZW0vZG9qby93YXlmb3JnZS9wYWNrYWdlcy9oYW1yL19fc2NyaXB0c19fXCI7Y29uc3QgX19pbmplY3RlZF9pbXBvcnRfbWV0YV91cmxfXyA9IFwiZmlsZTovLy9Vc2Vycy9qZW0vZG9qby93YXlmb3JnZS9wYWNrYWdlcy9oYW1yL19fc2NyaXB0c19fL2NvbnN0YW50cy50c1wiO2ltcG9ydCBwYXRoIGZyb20gXCJub2RlOnBhdGhcIlxuaW1wb3J0IHVybCBmcm9tIFwibm9kZTp1cmxcIlxuXG5jb25zdCBGSUxFUEFUSCA9IHVybC5maWxlVVJMVG9QYXRoKGltcG9ydC5tZXRhLnVybClcbmNvbnN0IERJUk5BTUUgPSBwYXRoLmRpcm5hbWUoRklMRVBBVEgpXG5cbmV4cG9ydCBjb25zdCBIQU1SX1JPT1QgPSBwYXRoLnJlc29sdmUoRElSTkFNRSwgYC4uYClcbmV4cG9ydCBjb25zdCBFWENMVURFX0xJU1QgPSBbYG5vZGVfbW9kdWxlc2AsIGBzcmNgLCBgZGlzdGAsIGBjb3ZlcmFnZWBdXG5leHBvcnQgY29uc3QgUEFDS0FHRV9KU09OX1BBVEggPSBwYXRoLmpvaW4oSEFNUl9ST09ULCBgcGFja2FnZS5qc29uYClcbmV4cG9ydCBjb25zdCBUU0NPTkZJR19KU09OX1BBVEggPSBwYXRoLmpvaW4oSEFNUl9ST09ULCBgdHNjb25maWcucHJvZC5qc29uYClcbiJdLAogICJtYXBwaW5ncyI6ICI7QUFBMFMsU0FBUyxnQkFBQUEscUJBQW9COzs7QUNNaFUsSUFBTSxrQkFBa0IsQ0FDOUIsWUFDa0IsT0FBTyxZQUFZLE9BQU87OztBQ043QyxTQUFTLG9CQUFvQjs7O0FDRmlTLE9BQU8sUUFBUTtBQUM3VSxPQUFPQyxXQUFVOzs7QUNEK1EsT0FBTyxVQUFVO0FBQ2pULE9BQU8sU0FBUztBQURrSyxJQUFNLCtCQUErQjtBQUd2TixJQUFNLFdBQVcsSUFBSSxjQUFjLDRCQUFlO0FBQ2xELElBQU0sVUFBVSxLQUFLLFFBQVEsUUFBUTtBQUU5QixJQUFNLFlBQVksS0FBSyxRQUFRLFNBQVMsSUFBSTtBQUM1QyxJQUFNLGVBQWUsQ0FBQyxnQkFBZ0IsT0FBTyxRQUFRLFVBQVU7QUFDL0QsSUFBTSxvQkFBb0IsS0FBSyxLQUFLLFdBQVcsY0FBYztBQUM3RCxJQUFNLHFCQUFxQixLQUFLLEtBQUssV0FBVyxvQkFBb0I7OztBREo1RCxTQUFSLHFCQUFnRDtBQUN0RCxRQUFNLFVBQVUsR0FDZCxZQUFZLFdBQVcsRUFBRSxlQUFlLEtBQUssQ0FBQyxFQUM5QyxPQUFPLENBQUMsV0FBVyxPQUFPLFlBQVksQ0FBQyxFQUN2QyxPQUFPLENBQUMsV0FBVyxDQUFDLGFBQWEsU0FBUyxPQUFPLElBQUksQ0FBQyxFQUN0RCxRQUFRLENBQUMsV0FBVztBQUNwQixVQUFNLFdBQVcsR0FBRyxZQUFZQyxNQUFLLEtBQUssV0FBVyxPQUFPLElBQUksQ0FBQztBQUNqRSxVQUFNLFNBQVMsU0FBUyxTQUFTLEtBQUs7QUFDdEMsV0FBTyxTQUNKLE9BQU8sT0FDUCxTQUFTLElBQUksQ0FBQyxZQUFZQSxNQUFLLEtBQUssT0FBTyxNQUFNLE9BQU8sQ0FBQztBQUFBLEVBQzdELENBQUMsRUFDQTtBQUFBLElBQ0EsQ0FBQyxXQUNBLENBQUMsYUFBYSxTQUFTLE1BQU0sS0FDN0IsQ0FBQyxPQUFPLFdBQVcsSUFBSSxLQUN2QixDQUFDLE9BQU8sU0FBUyxJQUFJLEtBQ3JCLENBQUMsT0FBTyxXQUFXLEdBQUc7QUFBQSxFQUN4QjtBQUVELFNBQU87QUFDUjs7O0FEcEJBLElBQU0sa0JBQWtCLG1CQUFtQjtBQUVwQyxJQUFNLHNCQUFzQjtBQUFBLEVBQ2xDO0FBQUEsRUFDQSxHQUFHLGdCQUFnQixJQUFJLENBQUMsY0FBYyxRQUFRLFNBQVMsRUFBRTtBQUFBLEVBQ3pEO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFDRDtBQUVPLElBQU0sZUFBd0I7QUFBQSxFQUNwQyxnQkFBZ0IsQ0FBQyxZQUFZO0FBQzVCLFlBQVEsYUFBYTtBQUNyQixZQUFRLGFBQWE7QUFBQSxFQUN0QjtBQUFBLEVBQ0EsVUFBVTtBQUFBLEVBQ1YsUUFBUSxDQUFDLE9BQU8sS0FBSztBQUFBLEVBQ3JCLFlBQVk7QUFBQSxFQUNaLFFBQVEsRUFBRSxTQUFTLE1BQU07QUFBQSxFQUN6QixVQUFVO0FBQUEsRUFDVixXQUFXO0FBQUEsRUFDWCxXQUFXO0FBQUEsRUFDWCxVQUFVO0FBQ1g7QUFFTyxJQUFNLGNBQXVCO0FBQUEsRUFDbkMsR0FBRztBQUFBLEVBQ0gsS0FBSyxFQUFFLE1BQU0sS0FBSztBQUFBLEVBQ2xCLFFBQVEsQ0FBQyxLQUFLO0FBQUEsRUFDZCxPQUFPLENBQUMsY0FBYztBQUFBLEVBQ3RCLFVBQVU7QUFBQSxFQUNWLFFBQVE7QUFDVDtBQUVPLElBQU0sYUFBc0I7QUFBQSxFQUNsQyxHQUFHO0FBQUEsRUFDSCxPQUFPO0FBQUEsRUFDUCxLQUFLO0FBQUEsRUFDTCxPQUFPO0FBQUEsSUFDTixHQUFHO0FBQUEsTUFDRixnQkFBZ0IsSUFBSSxDQUFDLGNBQWM7QUFBQSxRQUNsQyxHQUFHLFNBQVM7QUFBQSxRQUNaLEdBQUcsU0FBUztBQUFBLE1BQ2IsQ0FBQztBQUFBLElBQ0Y7QUFBQSxFQUNEO0FBQUEsRUFDQSxRQUFRO0FBQ1Q7QUFFQSxJQUFPLHNCQUFRLGFBQWEsVUFBVTs7O0FGekR0QyxJQUFPQyx1QkFBUUMsY0FBYSxXQUFXOyIsCiAgIm5hbWVzIjogWyJkZWZpbmVDb25maWciLCAicGF0aCIsICJwYXRoIiwgInRzdXBfY29uZmlnX2RlZmF1bHQiLCAiZGVmaW5lQ29uZmlnIl0KfQo=
